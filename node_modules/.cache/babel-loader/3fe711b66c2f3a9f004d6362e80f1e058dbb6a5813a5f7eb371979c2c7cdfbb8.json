{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'MyAcordion',\n  props: {\n    idPerfil: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      subjects: []\n    };\n  },\n  mounted() {\n    console.log(this.idPerfil);\n    this.loadSubjects();\n  },\n  methods: {\n    loadSubjects() {\n      axios({\n        method: 'GET',\n        url: `http://localhost:8080/asignaturas/${this.idPerfil}`\n      }).then(response => {\n        this.subjects = response.data.map(subject => ({\n          ...subject,\n          open: false,\n          publications: []\n        }));\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    toggle(subject) {\n      if (!subject.publications.length) {\n        axios.get(`https://example.com/publications/${subject.id}`).then(response => {\n          subject.publications = response.data;\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n      subject.open = !subject.open;\n    }\n  }\n};","map":{"version":3,"names":["axios","name","props","idPerfil","type","Number","required","data","subjects","mounted","console","log","loadSubjects","methods","method","url","then","response","map","subject","open","publications","catch","error","toggle","length","get","id"],"sources":["C:\\Users\\mario\\OneDrive\\Escritorio\\DotShare-TFG\\dotshare\\src\\views\\AcordionAsignatura.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <div v-for=\"(subject, index) in subjects\" :key=\"index\">\r\n        <div @click=\"toggle(subject)\">\r\n          {{ subject.title }}\r\n        </div>\r\n        <div v-if=\"subject.open\">\r\n          <div v-for=\"(publication, index) in subject.publications\" :key=\"index\">\r\n            {{ publication.title }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  name: 'MyAcordion',\r\n  props: {\r\n    idPerfil: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      subjects: []\r\n    }\r\n  },\r\n  mounted () {\r\n    console.log(this.idPerfil)\r\n    this.loadSubjects()\r\n  },\r\n  methods: {\r\n    loadSubjects () {\r\n      axios({\r\n        method: 'GET',\r\n        url: `http://localhost:8080/asignaturas/${this.idPerfil}`\r\n      })\r\n        .then(response => {\r\n          this.subjects = response.data.map(subject => ({\r\n            ...subject,\r\n            open: false,\r\n            publications: []\r\n          }))\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        })\r\n    },\r\n    toggle (subject) {\r\n      if (!subject.publications.length) {\r\n        axios.get(`https://example.com/publications/${subject.id}`)\r\n          .then(response => {\r\n            subject.publications = response.data\r\n          })\r\n          .catch(error => {\r\n            console.log(error)\r\n          })\r\n      }\r\n      subject.open = !subject.open\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"AAgBA,OAAOA,KAAI,MAAO,OAAM;AACxB,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE;IACLC,QAAQ,EAAE;MACRC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,OAAMA,CAAA,EAAK;IACTC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,QAAQ;IACzB,IAAI,CAACS,YAAY,EAAC;EACpB,CAAC;EACDC,OAAO,EAAE;IACPD,YAAWA,CAAA,EAAK;MACdZ,KAAK,CAAC;QACJc,MAAM,EAAE,KAAK;QACbC,GAAG,EAAG,qCAAoC,IAAI,CAACZ,QAAS;MAC1D,CAAC,EACEa,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACT,QAAO,GAAIS,QAAQ,CAACV,IAAI,CAACW,GAAG,CAACC,OAAM,KAAM;UAC5C,GAAGA,OAAO;UACVC,IAAI,EAAE,KAAK;UACXC,YAAY,EAAE;QAChB,CAAC,CAAC;MACJ,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACdb,OAAO,CAACC,GAAG,CAACY,KAAK;MACnB,CAAC;IACL,CAAC;IACDC,MAAKA,CAAGL,OAAO,EAAE;MACf,IAAI,CAACA,OAAO,CAACE,YAAY,CAACI,MAAM,EAAE;QAChCzB,KAAK,CAAC0B,GAAG,CAAE,oCAAmCP,OAAO,CAACQ,EAAG,EAAC,EACvDX,IAAI,CAACC,QAAO,IAAK;UAChBE,OAAO,CAACE,YAAW,GAAIJ,QAAQ,CAACV,IAAG;QACrC,CAAC,EACAe,KAAK,CAACC,KAAI,IAAK;UACdb,OAAO,CAACC,GAAG,CAACY,KAAK;QACnB,CAAC;MACL;MACAJ,OAAO,CAACC,IAAG,GAAI,CAACD,OAAO,CAACC,IAAG;IAC7B;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}