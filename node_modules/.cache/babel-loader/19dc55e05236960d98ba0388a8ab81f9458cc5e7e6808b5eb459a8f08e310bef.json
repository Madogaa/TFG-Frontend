{"ast":null,"code":"import axios from 'axios';\nimport MyPublicacion from './Publicacion.vue';\nexport default {\n  name: 'MyAcordion',\n  components: {\n    MyPublicacion\n  },\n  props: {\n    idPerfil: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      subjects: []\n    };\n  },\n  mounted() {\n    this.loadSubjects();\n  },\n  updated(nuevoValor) {\n    console.log('refresh' + nuevoValor);\n  },\n  methods: {\n    loadSubjects() {\n      axios({\n        method: 'GET',\n        url: `http://localhost:8080/asignaturas/${this.idPerfil}`\n      }).then(response => {\n        this.subjects = response.data.map(subject => ({\n          ...subject,\n          open: false,\n          publications: []\n        }));\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    toggle(subject) {\n      if (!subject.publications.length) {\n        axios.get(`http://localhost:8080/publicaciones/perfil/${subject.idAsignatura}`).then(response => {\n          subject.publications = response.data;\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n      subject.open = !subject.open;\n    }\n  }\n};","map":{"version":3,"names":["axios","MyPublicacion","name","components","props","idPerfil","type","Number","required","data","subjects","mounted","loadSubjects","updated","nuevoValor","console","log","methods","method","url","then","response","map","subject","open","publications","catch","error","toggle","length","get","idAsignatura"],"sources":["C:\\Users\\mario\\OneDrive\\Escritorio\\DotShare-TFG\\dotshare\\src\\views\\AcordionAsignatura.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <div v-for=\"(subject, index) in subjects\" :key=\"index\">\r\n        <div class=\"toggleHeader\" @click=\"toggle(subject)\">\r\n          {{ subject.nombre }}\r\n        </div>\r\n        <div class=\"expand row\" v-if=\"subject.open\">\r\n          <div class=\"col-lg-6 col-xl-4\" v-for=\"(publication, index) in subject.publications\" :key=\"index\">\r\n            <my-publicacion :desc=\"publication.descripcion\"></my-publicacion>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport MyPublicacion from './Publicacion.vue'\r\nexport default {\r\n  name: 'MyAcordion',\r\n  components: {\r\n    MyPublicacion\r\n  },\r\n  props: {\r\n    idPerfil: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      subjects: []\r\n    }\r\n  },\r\n  mounted () {\r\n    this.loadSubjects()\r\n  },\r\n  updated (nuevoValor) {\r\n    console.log('refresh' + nuevoValor)\r\n  },\r\n  methods: {\r\n    loadSubjects () {\r\n      axios({\r\n        method: 'GET',\r\n        url: `http://localhost:8080/asignaturas/${this.idPerfil}`\r\n      })\r\n        .then(response => {\r\n          this.subjects = response.data.map(subject => ({\r\n            ...subject,\r\n            open: false,\r\n            publications: []\r\n          }))\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        })\r\n    },\r\n    toggle (subject) {\r\n      if (!subject.publications.length) {\r\n        axios.get(`http://localhost:8080/publicaciones/perfil/${subject.idAsignatura}`)\r\n          .then(response => {\r\n            subject.publications = response.data\r\n          })\r\n          .catch(error => {\r\n            console.log(error)\r\n          })\r\n      }\r\n      subject.open = !subject.open\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.toggleHeader {\r\n    text-align: left;\r\n    font-weight: bold;\r\n    color:white;\r\n    background-color:#41b883;\r\n    width: 100%;\r\n    padding: 0.7em 2em;\r\n    border-radius: 0.2em;\r\n    margin: 0.5em 0;\r\n}\r\n.expand{\r\n  background:linear-gradient(320deg,rgba(255,255,255,0.2),rgba(52, 72, 94, 0.5));\r\n  border-radius: 1em;\r\n  border: solid 1px rgba(255, 255, 255, 0.2);\r\n  margin: 0;\r\n  padding: 1em 3em;\r\n  justify-items: stretch;\r\n  justify-content: stretch;\r\n}\r\n\r\n</style>\r\n"],"mappings":"AAgBA,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,aAAY,MAAO,mBAAkB;AAC5C,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,KAAK,EAAE;IACLC,QAAQ,EAAE;MACRC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,OAAMA,CAAA,EAAK;IACT,IAAI,CAACC,YAAY,EAAC;EACpB,CAAC;EACDC,OAAMA,CAAGC,UAAU,EAAE;IACnBC,OAAO,CAACC,GAAG,CAAC,SAAQ,GAAIF,UAAU;EACpC,CAAC;EACDG,OAAO,EAAE;IACPL,YAAWA,CAAA,EAAK;MACdZ,KAAK,CAAC;QACJkB,MAAM,EAAE,KAAK;QACbC,GAAG,EAAG,qCAAoC,IAAI,CAACd,QAAS;MAC1D,CAAC,EACEe,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACX,QAAO,GAAIW,QAAQ,CAACZ,IAAI,CAACa,GAAG,CAACC,OAAM,KAAM;UAC5C,GAAGA,OAAO;UACVC,IAAI,EAAE,KAAK;UACXC,YAAY,EAAE;QAChB,CAAC,CAAC;MACJ,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACdZ,OAAO,CAACC,GAAG,CAACW,KAAK;MACnB,CAAC;IACL,CAAC;IACDC,MAAKA,CAAGL,OAAO,EAAE;MACf,IAAI,CAACA,OAAO,CAACE,YAAY,CAACI,MAAM,EAAE;QAChC7B,KAAK,CAAC8B,GAAG,CAAE,8CAA6CP,OAAO,CAACQ,YAAa,EAAC,EAC3EX,IAAI,CAACC,QAAO,IAAK;UAChBE,OAAO,CAACE,YAAW,GAAIJ,QAAQ,CAACZ,IAAG;QACrC,CAAC,EACAiB,KAAK,CAACC,KAAI,IAAK;UACdZ,OAAO,CAACC,GAAG,CAACW,KAAK;QACnB,CAAC;MACL;MACAJ,OAAO,CAACC,IAAG,GAAI,CAACD,OAAO,CAACC,IAAG;IAC7B;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}