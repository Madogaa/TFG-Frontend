{"ast":null,"code":"import axios from 'axios';\nimport MyPublicacion from './Publicacion.vue';\nexport default {\n  name: 'MyAcordion',\n  components: {\n    MyPublicacion\n  },\n  props: {\n    id: {\n      type: Number\n    },\n    profileName: {\n      type: String\n    },\n    idPerfil: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      subjects: []\n    };\n  },\n  mounted() {\n    this.loadSubjects();\n  },\n  updated(nuevoValor) {},\n  methods: {\n    loadSubjects() {\n      axios({\n        method: 'GET',\n        url: `http://143.47.50.240:80/APIdotshare/asignaturas/${this.idPerfil}`\n      }).then(response => {\n        this.subjects = response.data.map(subject => ({\n          ...subject,\n          open: false,\n          publications: []\n        }));\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    toggle(subject) {\n      if (!subject.publications.length) {\n        axios.get(`http://143.47.50.240:80/APIdotshare/publicaciones/perfil/${subject.idAsignatura}`).then(response => {\n          subject.publications = response.data;\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n      subject.open = !subject.open;\n    }\n  }\n};","map":{"version":3,"names":["axios","MyPublicacion","name","components","props","id","type","Number","profileName","String","idPerfil","required","data","subjects","mounted","loadSubjects","updated","nuevoValor","methods","method","url","then","response","map","subject","open","publications","catch","error","console","log","toggle","length","get","idAsignatura"],"sources":["C:\\Users\\mario\\OneDrive\\Escritorio\\TFG-DOTSHARE\\TFG-DAM-mainn\\src\\views\\AcordionAsignatura.vue"],"sourcesContent":["<template>\n    <div>\n      <div v-for=\"(subject, index) in subjects\" :key=\"index\">\n        <div class=\"toggleHeader\" @click=\"toggle(subject)\">\n          {{ subject.nombre }}\n        </div>\n        <div class=\"expand row\" v-if=\"subject.open\">\n          <div class=\"col-lg-6 col-xl-4\" v-for=\"(publication, index) in subject.publications\" :key=\"index\">\n            <my-publicacion :id=\"publication.idPublicacion\" :profile=\"this.profileName\" :archivos=\"publication.archivoList\" :desc=\"publication.descripcion\"></my-publicacion>\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport MyPublicacion from './Publicacion.vue'\nexport default {\n  name: 'MyAcordion',\n  components: {\n    MyPublicacion\n  },\n  props: {\n    id:{\n      type: Number\n    },\n    profileName: {\n      type: String\n    },\n    idPerfil: {\n      type: Number,\n      required: true\n    }\n  },\n  data () {\n    return {\n      subjects: []\n    }\n  },\n  mounted () {\n    this.loadSubjects()\n  },\n  updated (nuevoValor) {\n  },\n  methods: {\n    loadSubjects () {\n      axios({\n        method: 'GET',\n        url: `http://143.47.50.240:80/APIdotshare/asignaturas/${this.idPerfil}`\n      })\n        .then(response => {\n          this.subjects = response.data.map(subject => ({\n            ...subject,\n            open: false,\n            publications: []\n          }))\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n    toggle (subject) {\n      if (!subject.publications.length) {\n        axios.get(`http://143.47.50.240:80/APIdotshare/publicaciones/perfil/${subject.idAsignatura}`)\n          .then(response => {\n            subject.publications = response.data\n          })\n          .catch(error => {\n            console.log(error)\n          })\n      }\n      subject.open = !subject.open\n    }\n  }\n}\n</script>\n\n<style scoped>\n.toggleHeader {\n    text-align: left;\n    font-weight: bold;\n    color:white;\n    background-color:#41b883;\n    width: 100%;\n    padding: 0.7em 2em;\n    border-radius: 0.2em;\n    margin: 0.5em 0;\n    cursor: pointer;\n}\n.expand{\n  background:linear-gradient(320deg,rgba(255,255,255,0.2),rgba(52, 72, 94, 0.5));\n  border-radius: 1em;\n  border: solid 1px rgba(255, 255, 255, 0.2);\n  margin: 0;\n  padding: 1em 3em;\n}\n\n</style>\n"],"mappings":"AAgBA,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,aAAY,MAAO,mBAAkB;AAC5C,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,KAAK,EAAE;IACLC,EAAE,EAAC;MACDC,IAAI,EAAEC;IACR,CAAC;IACDC,WAAW,EAAE;MACXF,IAAI,EAAEG;IACR,CAAC;IACDC,QAAQ,EAAE;MACRJ,IAAI,EAAEC,MAAM;MACZI,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,OAAMA,CAAA,EAAK;IACT,IAAI,CAACC,YAAY,EAAC;EACpB,CAAC;EACDC,OAAMA,CAAGC,UAAU,EAAE,CACrB,CAAC;EACDC,OAAO,EAAE;IACPH,YAAWA,CAAA,EAAK;MACdf,KAAK,CAAC;QACJmB,MAAM,EAAE,KAAK;QACbC,GAAG,EAAG,mDAAkD,IAAI,CAACV,QAAS;MACxE,CAAC,EACEW,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACT,QAAO,GAAIS,QAAQ,CAACV,IAAI,CAACW,GAAG,CAACC,OAAM,KAAM;UAC5C,GAAGA,OAAO;UACVC,IAAI,EAAE,KAAK;UACXC,YAAY,EAAE;QAChB,CAAC,CAAC;MACJ,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACC,GAAG,CAACF,KAAK;MACnB,CAAC;IACL,CAAC;IACDG,MAAKA,CAAGP,OAAO,EAAE;MACf,IAAI,CAACA,OAAO,CAACE,YAAY,CAACM,MAAM,EAAE;QAChChC,KAAK,CAACiC,GAAG,CAAE,4DAA2DT,OAAO,CAACU,YAAa,EAAC,EACzFb,IAAI,CAACC,QAAO,IAAK;UAChBE,OAAO,CAACE,YAAW,GAAIJ,QAAQ,CAACV,IAAG;QACrC,CAAC,EACAe,KAAK,CAACC,KAAI,IAAK;UACdC,OAAO,CAACC,GAAG,CAACF,KAAK;QACnB,CAAC;MACL;MACAJ,OAAO,CAACC,IAAG,GAAI,CAACD,OAAO,CAACC,IAAG;IAC7B;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}